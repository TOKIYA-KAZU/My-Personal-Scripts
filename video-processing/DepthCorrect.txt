set cut_paste_input [stack 0]
version 10.0 v1
push $cut_paste_input
Group {
 name DepthCorrect1
 tile_color 0x823a7dff
 selected true
 xpos -315
 ypos -114
 addUserKnob {20 User}
 addUserKnob {41 go l Go! T CurveTool1.go}
 addUserKnob {41 maxlumapixvalue l "Maximum Luminence Pixel value" T CurveTool1.maxlumapixvalue}
 addUserKnob {41 multiple T Expression2.multiple}
}
 Input {
  inputs 0
  name Input1
  xpos 510
  ypos -634
 }
 Dot {
  name Dot2
  xpos 544
  ypos -558
 }
set N4d13c00 [stack 0]
 Dot {
  name Dot1
  xpos 654
  ypos -558
 }
 Expression {
  channel0 depth
  expr0 (a==1)?z:1
  name Expression3
  xpos 620
  ypos -514
 }
 Expression {
  channel0 depth
  expr0 (z==1)?0:z
  name Expression1
  xpos 620
  ypos -466
 }
 CurveTool {
  operation "Max Luma Pixel"
  channels depth
  ROI {0 0 {width} {height}}
  autocropdata {480 270 1440 810}
  maxlumapixdata {{curve} {curve}}
  maxlumapixvalue {{curve} {curve} 0}
  minlumapixdata {{curve} {curve}}
  minlumapixvalue {{curve} {curve} 0}
  name CurveTool1
  xpos 620
  ypos -376
 }
push $N4d13c00
 Expression {
  temp_name0 minDepth
  temp_expr0 mD*multiple
  channel0 depth
  expr0 min(minDepth,z)
  unpremult rgba.alpha
  name Expression2
  label minDepth
  xpos 510
  ypos -383
  addUserKnob {20 User}
  addUserKnob {7 multiple R 0 2}
  multiple 1
  addUserKnob {7 mD}
  mD {{parent.CurveTool1.maxlumapixvalue.r}}
 }
 Output {
  name Output1
  xpos 510
  ypos -250
 }
end_group
